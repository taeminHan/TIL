> 가상머신과 컨테이너

서버 응용 프로그램을 배포 하는 것은 매우 복ㅈ바다 이러한 시스템으로 VM이라고 불리우는 가상머신을 활용하여 CPU 메모리 및 저장소를 추상화한다. 

VM에서 작동되는 앱은 격리되어 실행되거나 VM에 설치한 다른 앱과 함께 실행된다. 

단점이 있다 VM은 한 번에 하나의 운영체제만 실행 할 수 있다. 

따라서 서로 다른 런타임 환경이 필요한 여러 응용 프로그램을 제대로 실행하려면 여러 개의 가상 머신이 필요하다 .또한 Vm은 컴퓨터 전체를 에뮬레이팅 하므로 컴퓨터를 시작하거나 스냅숏을 찍는등의 작업이 상당히 느리고 몇 분이 걸릴 수도 있다. 하지만 이 문제를 일부 해결할 수 있는 것이 컨테이너 이다 

컨테이너는 단일 앱과 해당 종속성을 번들로 묶은 다음(응용 프로그램의 컨테이너화) 이를 한 단위로 하여 컨테이너 호스트에 배포한다.  

컨테이너 호스트는 운영 체제 및 인프라 요구 사항을 추상화하는 표준화된 런타임 환경을 제공하므로 컨테이너화된 응용 프로그램이 다른 컨테이너화 된 앱과 나란히 실행될 수 있다. VM과 컨테이너를 구별하는 쉬운 방법으로, 가상 머신은 하드웨어를 가상화하지만, 컨테이너는 운영 체제를 가상화 한다는 것이다. 컨테이너의 운영 체제 수준 가상화는 컨테이너 접근 방법이 전체 가상 머신보다 더 효율적인 한가지 이유이다. 

이를 사용하면 가상 머신이 원래 제공한 격리를 희생하지 않고 단일 호스트에서 여러 간단한 컨테이너를 실행할 수 있다. 

컨테이너에 대한 또 다른 장점은 컨테이너 클러스터 오케스트레이션으로 오케스트레이션될 수 있다는다는 점이다.

각 컨테이너를 어떤 서버에 호스트할지 걱정할 필요 없이 여러 컨테이너화된 응용 프로그램을 간편하게 배포하고 관리할 수 있다. 

VM을 사용할지 아니면, 컨테이너를 사용할지는 필요한 유연성의 정도에 따라 결정된다. 

환경을 완벽하게 제어해야 하는 경우에는 VM

그렇지 않는 경우 컨테이너의 이식성, 성능 특성 및 관리 기능이 더 나은 선택일 수 있다. 

Kubernetes란? 

쿠버네티스

컨테이너를 사용하여 응용 프로그램과 다른 프로세스를 호스트하는 것이 주류가 되었다. 

점점 더 많은 워크로드가 컨테이너로 전환함에 따라 대규모 수준으로 컨테이너화된 응용 프로그램의 요굴르 처리하기 위한 관리 시스템이 필요하다. 

컨테이너 기반 워크로드를 관리하는 데 가장 인기 있는 옵션 중 하나가 쿠버네티스 이다. 

쿠버네티스란 물론 컨테이너 관리 자동화와 확장 가능한 API를 결합하여 클라우드 네이티브 응용 프로그램 관리 기능을 만든다.  

쿠버네티스는 본질적으로 단일 쿠버네티스 클러스터 노드에서 하나 이상의 컨테이너로 구성될 수 있는 Pod의 배치를 관리한다.

또한 이런한 Pod 중 하나가 충돌하면 쿠버네티스에서 해당 Pod의 새 인스턴스를 만들 수 있다.

클러스터 노드가 제거되면 쿠버네티스에서 영향을 받는 워크로드를 클러스터의 다른 노드로 이동할 수있다. 

Kubernetes Pod은 Kubernetes scaling을 통해 규모 요구 사항에 맞게 더 많거나 더 적은 처리량을 제공하도록 크기를 조정할 수 있다. 

그리고 크기 조정 작업은 Kubernetes 수평 Pod 자동 크리 조정을 통해(Kubernetes scaling) 수동 또는 자동으로 트리거 될 수 있다. 

마지막으로 응요 프로그램을 업데이트해야 하는 경우 Kubernetes는 가동 중지 시간을 최소화하기 위해 업데이트 배포를 지그재그 형태로 배치할 수 있다. 

또한 업데이트에 문제가 있는 경우 Kubernetes 는 이전 버전으로 롤백할 수 있다. 

Kubernetes 는 Pod 관리와 함께 컨테이너 저장소 및 네트워킹을 관리할 수도 있다.

Kubernetes 영구적 볼륨은 하나 이상의 컨테이너에 데이터 저장소를 제공하는데 사용할 수 있다.  이 구성을 사용하면 컨테이너에서 응용 프로그램 데이터를 읽고 쓸 수 있으며 여러 Pod 인스턴스 간에 이 데이터를 유지할 수 있다. 

즉, Kubernetes에서 실행되는 으용 프로그램에서 데이터 저장 및 검색을 위해 Azure Storage .또는 Azure Cosmos DB와 같은 클라우드 기반 저장소 및 데이터 시스템을 사용하는 것이 일반적이다. 

네트워킹과 관련하여 Kubernetes  네트워크 플러그 인은 Pod를 인터넷에 공개하고, Pod의 여러 복제본 간에 트래픽의 부하를 분산하고, 네트워크 격리 및 정책 기반 네트워크 보안과 같은 기능을 제공한다. 

또한 이런한 네트워크 플러그 인은 Kubernetes 클러스터의 Pod간 통신 및 이름 확인을 관리한다.

Kubernetes 의 확장 기능은 SaaS 서비스를 빌드할 수 있는 훌륭한 플랫폼이다.